const translations = {
    pt: {
        // Navigation
        nav_home: "Início",
        nav_profile: "Perfil",
        nav_skills: "Competências",
        nav_tools: "Ferramentas",
        btn_lang: "EN",
        
        // Identity
        hero_title: "André Graça",
        hero_role: "Engenheiro de Cibersegurança",
        hero_sub: "Defesa | Ataque | Automação | Engenharia",

        // Categories (Home/Skills Pages)
        cat_secops_title: "Operações de Segurança (SecOps)",
        cat_secops_desc: "Especialista em deteção de ameaças e resposta a incidentes. Redução do MTTR e otimização de SIEM/XDR.",
        cat_eng_title: "Engenharia e Automação",
        cat_eng_desc: "Desenvolvimento de Playbooks SOAR e scripts Python. Integração de API (Gitlab, Jira).",
        cat_vuln_title: "Gestão de Vulnerabilidades",
        cat_vuln_desc: "Liderança de programas proativos com Tenable.io. Remediação de +500 vulnerabilidades.",
        cat_net_title: "Segurança de Rede",
        cat_net_desc: "Defesa de infraestrutura com Darktrace e Palo Alto. Monitorização de tráfego (NDR).",
        cat_grc_title: "GRC e Conformidade",
        cat_grc_desc: "Adesão a frameworks NIST, ISO27001 e GDPR.",
        cat_cloud_title: "Segurança Cloud",
        cat_cloud_desc: "Políticas de segurança no Microsoft Defender e Intune.",

        // --- PROFILE STORY (LOGS) - EXPANDED TEXT ---
        bio_title: "Sobre Mim",
        bio_subtitle: "Uma jornada de resiliência: Do chão de fábrica à Engenharia de Cibersegurança.",
        
        // Log 1: Origins
        log1_title: "A Origem",
        log1_text: "A minha jornada começou na Escola José Saramago em Mafra. Foi durante o Curso Profissional de Gestão e Programação de Sistemas Informáticos que descobri a minha verdadeira vocação. Apesar das dificuldades financeiras iniciais, sabia que queria ser um profissional 'self-made' na área tecnológica e comecei a juntar dinheiro para investir na minha formação superior.",
        
        // Log 2: The Hardship
        log2_title: "A Crise e o Desvio",
        log2_text: "A crise financeira de 2011 atingiu Portugal com brutalidade. Fui forçado a interromper os estudos e a trabalhar em fábricas e escritórios para sobreviver. Em 2012, tentei um novo rumo com um curso de CNC no IEFP, mas sentia um vazio profissional. Não era o meu chamamento, mas precisava de continuar a lutar.",
        
        // Log 3: The Catalyst (Cheese Factory)
        log3_title: "O Ponto de Viragem",
        log3_text: "O ponto de rutura aconteceu numa fábrica de queijo. As condições eram desumanas — os trabalhadores eram tratados abaixo da dignidade e, numa única semana, escapei da morte em três acidentes de trabalho distintos. Naquele momento, decidi: 'Esta vida não é para mim'. Juntei cada cêntimo que tinha poupado, demiti-me e investi tudo no meu regresso à universidade.",
        
        // Log 4: The Return & The Project
        log4_title: "O Regresso: Gaming Out of Depression",
        log4_text: "Regressei à Universidade Lusófona com determinação total (CET e Licenciatura). O meu projeto final, 'Gaming Out of Depression', foi proposto por uma psicóloga: desenvolvi um sistema complexo de Backend e Frontend (estilo Discord) com comunicação de voz e vídeo em tempo real, desenhado especificamente para ajudar pessoas isoladas a socializar.",

        // Log 5: The Pivot
        log5_title: "A Evolução na Noesis",
        log5_text: "Durante a pós-graduação em Virtualização e Cloud no ISTEC, ingressei na Noesis. Iniciei em OutSystems, mas quando surgiu o desafio de migrar para a Cibersegurança, aceitei sem hesitar. Através de formação contínua e muito esforço, moldei-me no engenheiro sólido que sou hoje, mantendo-me sempre à frente das novas ameaças e tecnologias.",

        // Education Sidebar
        edu_title: "Formação Académica",
        edu_1: "Pós-Graduação: Cloud e Virtualização (ISTEC)",
        edu_2: "Licenciatura: Eng. Informática (Lusófona)",
        edu_3: "CET: Tecnologia de Sistemas (Lusófona)",

        // Footer
        footer_contact: "Entre em contacto via Email."
    },
    en: {
        // Navigation
        nav_home: "Home",
        nav_profile: "Profile",
        nav_skills: "Skills",
        nav_tools: "Tools",
        btn_lang: "PT",
        
        // Identity
        hero_title: "André Graça",
        hero_role: "Cybersecurity Engineer",
        hero_sub: "Defense | Offense | Automation | Engineering",

        // Categories
        cat_secops_title: "Security Operations (SecOps)",
        cat_secops_desc: "Specialist in threat detection and incident response. Reduced MTTR and optimized SIEM/XDR.",
        cat_eng_title: "Engineering & Automation",
        cat_eng_desc: "Development of SOAR Playbooks and Python scripts. API integration (Gitlab, Jira).",
        cat_vuln_title: "Vulnerability Management",
        cat_vuln_desc: "Leading proactive programs using Tenable.io. Remediation of 500+ vulnerabilities.",
        cat_net_title: "Network Security",
        cat_net_desc: "Infrastructure defense with Darktrace and Palo Alto. Traffic monitoring (NDR).",
        cat_grc_title: "GRC & Compliance",
        cat_grc_desc: "Adherence to NIST, ISO27001, and GDPR frameworks.",
        cat_cloud_title: "Cloud Security",
        cat_cloud_desc: "Security policies in Microsoft Defender and Intune.",

        // --- PROFILE STORY (LOGS) - EXPANDED TEXT ---
        bio_title: "About Me",
        bio_subtitle: "A journey of resilience: From the factory floor to Cybersecurity Engineering.",

        // Log 1
        log1_title: "The Origin",
        log1_text: "My journey began at Escola José Saramago in Mafra. During the Professional Course in IT Systems Management & Programming, I discovered my true vocation. Despite early financial hurdles, I was determined to become a self-made professional in the tech world and started saving money to fund my higher education.",

        // Log 2
        log2_title: "Crisis & Detour",
        log2_text: "The 2011 financial crisis hit Portugal hard. I was forced to pause my studies and take on various factory and white-collar jobs just to survive. In 2012, I tried a CNC course at IEFP, but I felt professionally unfulfilled. I knew deep down this wasn't my calling, but I had to keep fighting.",

        // Log 3
        log3_title: "The Turning Point",
        log3_text: "The breaking point happened at a cheese factory. Conditions were inhumane—workers were treated with no dignity, and in a single week, I narrowly escaped death in three separate work accidents. I decided right then: 'This life is not for me.' I scraped together every single Euro I had saved, quit, and invested everything into returning to college.",

        // Log 4
        log4_title: "The Return: Gaming Out of Depression",
        log4_text: "I returned to Lusófona University with total determination (CET & BSc). My final project, 'Gaming Out of Depression' (proposed by a psychologist), was a complex Full-Stack system (Discord-style) featuring real-time voice and video communication, specifically designed to help isolated individuals socialize.",

        // Log 5
        log5_title: "The Pivot at Noesis",
        log5_text: "During my Post-Grad in Cloud & Virtualization at ISTEC, I joined Noesis. I started working with OutSystems, but when the challenge to pivot to Cybersecurity arose, I took it without hesitation. Through continuous training and self-discipline, I molded myself into the solid engineer I am today, always staying ahead of emerging threats.",

        // Education Sidebar
        edu_title: "Education",
        edu_1: "Post-Grad: Cloud & Virtualization (ISTEC)",
        edu_2: "BSc: Computer Engineering (Lusófona)",
        edu_3: "CET: Systems Technology (Lusófona)",

        // Footer
        footer_contact: "Get in touch via Email."
    }
};

// --- LANGUAGE LOGIC ---
function changeLanguage(lang) {
    localStorage.setItem('lang', lang);
    document.documentElement.lang = lang;
    
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
}

// --- SCROLL ANIMATION LOGIC ---
const observerOptions = {
    threshold: 0.15,
    rootMargin: "0px 0px -50px 0px"
};

const scrollObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('active');
            scrollObserver.unobserve(entry.target);
        }
    });
}, observerOptions);

document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('lang') || 'en';
    changeLanguage(savedLang);
    
    const btn = document.getElementById('lang-toggle');
    if(btn) {
        btn.addEventListener('click', () => {
            const currentLang = localStorage.getItem('lang') || 'en';
            const newLang = currentLang === 'en' ? 'pt' : 'en';
            changeLanguage(newLang);
        });
    }

    const hiddenElements = document.querySelectorAll('.reveal-entry');
    hiddenElements.forEach((el) => scrollObserver.observe(el));
});