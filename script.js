const translations = {
    pt: {
        // NAV
        nav_home: "Início",
        nav_impact: "Impacto",
        nav_expertise: "Especialidade",
        nav_skills: "Competências",
        nav_tools: "Ferramentas",
        nav_profile: "Perfil",
        nav_contact: "Contato",
        btn_lang: "EN",
        
        // HERO SECTION
        hero_badge: "ENGENHEIRO DE CIBERSEGURANÇA",
        hero_title: "André Graça", // Name usually stays same
        hero_subtitle: "Construindo Defesas Digitais Resilientes",
        hero_desc: "Especializado em SecOps, inteligência de ameaças e engenharia de segurança. Protegendo organizações através de estratégias de defesa proativas e soluções de segurança de ponta.",
        btn_explore: "Explorar Trabalho",
        btn_contact: "Entrar em Contato",

        // STATS
        stat_vuln_label: "Vulnerabilidades Resolvidas",
        stat_malware_label: "Redução de Malware",
        stat_endpoints_label: "Endpoints Seguros",
        stat_mttr_label: "Melhoria no MTTR",

        // EXPERTISE HEADER
        expert_tag: "COMPETÊNCIAS PRINCIPAIS",
        expert_title: "Expertise em Segurança",
        expert_desc: "Capacidades abrangentes de cibersegurança em defesa, engenharia e inteligência de ameaças.",

        // EXPERTISE CARDS (HOME SUMMARY)
        card_secops_title: "Operações de Segurança",
        card_secops_desc: "Liderança de equipas L1 com redução de 15% no MTTR e otimização de deteção em plataformas SIEM/XDR incluindo ArcSight, Cortex XDR e Sentinel.",
        
        card_eng_title: "Engenharia de Segurança",
        card_eng_desc: "Arquitetura de playbooks SOAR com Thycotic e criação de integrações API para automação e orquestração de segurança abrangentes.",
        
        card_assess_title: "Avaliação de Segurança",
        card_assess_desc: "Avaliações baseadas em OWASP e testes de penetração para identificar caminhos de ataque e vulnerabilidades em aplicações com orientação prescritiva.",
        
        card_vuln_title: "Gestão de Vulnerabilidades",
        card_vuln_desc: "Programa de segurança proativo utilizando Tenable.io e Landsweeper com remediação bem-sucedida de mais de 500 vulnerabilidades críticas.",
        
        card_cloud_title: "Segurança na Nuvem",
        card_cloud_desc: "Proteção de mais de 2000 endpoints usando Microsoft Defender e Intune, alcançando uma redução de 40% em incidentes de malware.",
        
        card_intel_title: "Inteligência de Ameaças",
        card_intel_desc: "Recolha estratégica de informações para antecipar TTPs e fortalecer proativamente as defesas contra ameaças cibernéticas globais emergentes.",

        // SKILLS PAGE (THE BOSSES)
        skills_badge: "EXPERTISE TÉCNICA",
        skills_title: "Competências e Capacidades",
        skills_desc: "Detalhamento técnico das áreas de atuação e impacto profissional.",

        c1_title: "Defesa (SecOps)",
        c1_desc: "Liderança de equipas L1, redução do MTTR em 15% e otimização de deteção em plataformas SIEM/XDR.",
        c2_title: "Engenharia",
        c2_desc: "Arquitetura e implementação de playbooks SOAR (Thycotic) e integração via API para automação.",
        c3_title: "Security Assessment",
        c3_desc: "Avaliações OWASP e testes para identificar caminhos de ataque (Red Team) e falhas em aplicações.",
        c4_title: "Vulnerability Management",
        c4_desc: "Programa proativo com Tenable.io e Landsweeper; remediação de +500 vulnerabilidades críticas.",
        c5_title: "Network Security",
        c5_desc: "Implementação de Darktrace e gestão de segurança de perímetro com Palo Alto.",
        c6_title: "Cloud Security",
        c6_desc: "Onboarding de 2000+ endpoints (Defender/Intune) e redução de incidentes de malware em 40%.",
        c7_title: "Compliance",
        c7_desc: "Auditorias técnicas e evidências para PCI DSS, NIS2, GDPR e certificação ISO27001.",
        c8_title: "Software",
        c8_desc: "Gestão e integração de soluções complexas: ArcSight, Cortex XDR, Sentinel, Fortify e Sealpath.",
        c9_title: "Programming",
        c9_desc: "Automação com Python e desenvolvimento Full-Stack para ferramentas de segurança personalizadas.",
        c10_title: "IAM",
        c10_desc: "Aplicação de políticas unificadas de identidade e acesso no ecossistema Microsoft Security.",
        c11_title: "Reporting",
        c11_desc: "Relatórios detalhados com orientações prescritivas (Blue Team) e documentação de ataque.",
        c12_title: "Asset Management",
        c12_desc: "Visibilidade total e inventário de ativos críticos utilizando Landsweeper e Tenable.",
        c13_title: "Threat Intelligence (CTI)",
        c13_desc: "Recolha estratégica de informação para antecipar TTPs e fortalecer defesas proativamente.",
        c14_title: "Threat Hunting",
        c14_desc: "Investigação proativa de ameaças sofisticadas não detetadas por alertas padrão.",
        c15_title: "Digital Forensics",
        c15_desc: "Análise forense para determinação de causa raiz e reconstrução de incidentes complexos.",

        footer_text: "Teams ou Email:"
    },
    en: {
        // NAV
        nav_home: "Home",
        nav_impact: "Impact",
        nav_expertise: "Expertise",
        nav_skills: "Skills",
        nav_tools: "Tools",
        nav_profile: "Profile",
        nav_contact: "Contact",
        btn_lang: "PT",
        
        // HERO SECTION
        hero_badge: "CYBERSECURITY ENGINEER",
        hero_title: "André Graça",
        hero_subtitle: "Building Resilient Digital Defenses",
        hero_desc: "Specialized in SecOps, threat intelligence, and security engineering. Protecting organizations through proactive defense strategies and cutting-edge security solutions.",
        btn_explore: "Explore Work",
        btn_contact: "Get In Touch",

        // STATS
        stat_vuln_label: "Vulnerabilities Resolved",
        stat_malware_label: "Malware Reduction",
        stat_endpoints_label: "Endpoints Secured",
        stat_mttr_label: "MTTR Improvement",

        // EXPERTISE HEADER
        expert_tag: "CORE COMPETENCIES",
        expert_title: "Security Expertise",
        expert_desc: "Comprehensive cybersecurity capabilities across defense, engineering, and threat intelligence.",

        // EXPERTISE CARDS (HOME SUMMARY)
        card_secops_title: "Security Operations",
        card_secops_desc: "Leading L1 teams with 15% MTTR reduction and optimizing detection across SIEM/XDR platforms including ArcSight, Cortex XDR, and Sentinel.",
        
        card_eng_title: "Security Engineering",
        card_eng_desc: "Architecting SOAR playbooks with Thycotic and building API integrations for comprehensive security automation and orchestration.",
        
        card_assess_title: "Security Assessment",
        card_assess_desc: "OWASP-based assessments and penetration testing to identify attack paths and application vulnerabilities with prescriptive remediation guidance.",
        
        card_vuln_title: "Vulnerability Management",
        card_vuln_desc: "Proactive security program leveraging Tenable.io and Landsweeper with successful remediation of 500+ critical vulnerabilities.",
        
        card_cloud_title: "Cloud Security",
        card_cloud_desc: "Securing 2000+ endpoints using Microsoft Defender and Intune, achieving 40% reduction in malware incidents across enterprise infrastructure.",
        
        card_intel_title: "Threat Intelligence",
        card_intel_desc: "Strategic information gathering to anticipate TTPs and proactively strengthen defenses against emerging global cyber threats.",

        // SKILLS PAGE (THE BOSSES)
        skills_badge: "TECHNICAL EXPERTISE",
        skills_title: "Skills & Capabilities",
        skills_desc: "Detailed technical breakdown of operational areas and professional impact.",

        c1_title: "Defense (SecOps)",
        c1_desc: "L1 team leadership, 15% MTTR reduction, and detection optimization on SIEM/XDR platforms.",
        c2_title: "Engineering",
        c2_desc: "Architecture and implementation of SOAR playbooks (Thycotic) and API integration for automation.",
        c3_title: "Security Assessment",
        c3_desc: "OWASP assessments and testing to identify attack paths (Red Team) and application flaws.",
        c4_title: "Vulnerability Management",
        c4_desc: "Proactive program with Tenable.io and Landsweeper; remediation of 500+ critical vulnerabilities.",
        c5_title: "Network Security",
        c5_desc: "Implementation of Darktrace and perimeter security management with Palo Alto.",
        c6_title: "Cloud Security",
        c6_desc: "Onboarding 2000+ endpoints (Defender/Intune) and reducing malware incidents by 40%.",
        c7_title: "Compliance",
        c7_desc: "Technical audits and evidence for PCI DSS, NIS2, GDPR, and ISO27001 certification.",
        c8_title: "Software",
        c8_desc: "Management and integration of complex solutions: ArcSight, Cortex XDR, Sentinel, Fortify, and Sealpath.",
        c9_title: "Programming",
        c9_desc: "Automation with Python and Full-Stack development for custom security tools.",
        c10_title: "IAM",
        c10_desc: "Enforcement of unified identity and access policies within the Microsoft Security ecosystem.",
        c11_title: "Reporting",
        c11_desc: "Detailed reports with prescriptive guidance (Blue Team) and attack documentation.",
        c12_title: "Asset Management",
        c12_desc: "Full visibility and inventory of critical assets using Landsweeper and Tenable.",
        c13_title: "Threat Intelligence (CTI)",
        c13_desc: "Strategic information gathering to anticipate TTPs and proactively strengthen defenses.",
        c14_title: "Threat Hunting",
        c14_desc: "Proactive investigation of sophisticated threats undetected by standard alerts.",
        c15_title: "Digital Forensics",
        c15_desc: "Forensic analysis for root cause determination and reconstruction of complex incidents.",

        footer_text: "Teams or Email:"
    }
};

function changeLanguage(lang) {
    localStorage.setItem('lang', lang);
    document.documentElement.lang = lang;
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
            // If the element has specific HTML tags inside we want to preserve, innerHTML might be needed,
            // but textContent is safer. For this specific site, textContent works for most.
            // If checking for button text specifically:
            if(el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                el.placeholder = translations[lang][key];
            } else {
                el.textContent = translations[lang][key];
            }
        }
    });

    // Update the button text separately if not covered by data-i18n (though it is in my HTML)
    const btn = document.getElementById('lang-toggle');
    if(btn) btn.textContent = translations[lang].btn_lang;
}

// Scroll Animation Observer
const observerOptions = { threshold: 0.1, rootMargin: "0px 0px -50px 0px" };
const scrollObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('active');
            // Optional: stop observing once revealed
             scrollObserver.unobserve(entry.target); 
        }
    });
}, observerOptions);

document.addEventListener('DOMContentLoaded', () => {
    // 1. Language Setup
    const savedLang = localStorage.getItem('lang') || 'en';
    changeLanguage(savedLang);
    
    const langBtn = document.getElementById('lang-toggle');
    if (langBtn) {
        langBtn.addEventListener('click', () => {
            const currentLang = localStorage.getItem('lang') || 'en';
            const newLang = currentLang === 'en' ? 'pt' : 'en';
            changeLanguage(newLang);
        });
    }

    // 2. Animations Setup
    document.querySelectorAll('.reveal-entry, .fade-up').forEach(el => scrollObserver.observe(el));

    // 3. Navbar Scroll Effect
    const nav = document.getElementById('navbar');
    if (nav) {
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });
    }
});